module.exports=[33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},99018,a=>a.a(async(b,c)=>{try{let b=await a.y("@react-pdf/renderer-5f716e9bc7d68b8a");a.n(b),c()}catch(a){c(a)}},!0),74888,a=>a.a(async(b,c)=>{try{var d=a.i(87924);a.i(72131);var e=a.i(99018),f=b([e]);[e]=f.then?(await f)():f;let g=e.StyleSheet.create({page:{flexDirection:"column",backgroundColor:"#FFFFFF",padding:20,fontSize:10,fontFamily:"Helvetica"},tableContainer:{flexDirection:"column"},header:{flexDirection:"row",borderBottomWidth:1,borderColor:"#bff0fd",alignItems:"center",height:24,backgroundColor:"#F3F4F6",fontWeight:"bold"},row:{flexDirection:"row",borderBottomWidth:1,borderColor:"#bff0fd",alignItems:"center",height:24},rowEven:{backgroundColor:"#F9FAFB"},cellDate:{flexBasis:"10%",color:"#111827",fontSize:9,textAlign:"left"},cellType:{flexBasis:"10%",color:"#111827",fontSize:9,textAlign:"left"},cellAddress:{flexBasis:"25%",color:"#111827",fontSize:9,textAlign:"left"},cellCadastre:{flexBasis:"10%",color:"#111827",fontSize:9,textAlign:"left",fontFamily:"Courier"},cellSurfaceHab:{flexBasis:"8%",color:"#111827",fontSize:9,textAlign:"right"},cellSurfaceTer:{flexBasis:"8%",color:"#111827",fontSize:9,textAlign:"right"},cellPrice:{flexBasis:"10%",color:"#111827",fontSize:9,textAlign:"right",fontWeight:"bold"},cellPriceM2:{flexBasis:"10%",color:"#2563EB",fontSize:9,textAlign:"right"},cellDistance:{flexBasis:"9%",color:"#111827",fontSize:9,textAlign:"right"},headerCell:{color:"#374151",fontSize:9,textTransform:"uppercase",fontWeight:"bold"},headerCellLeft:{color:"#374151",fontSize:9,textTransform:"uppercase",fontWeight:"bold",textAlign:"left"},headerCellRight:{color:"#374151",fontSize:9,textTransform:"uppercase",fontWeight:"bold",textAlign:"right"},title:{fontSize:16,fontWeight:"bold",marginBottom:10,color:"#111827"},subtitle:{fontSize:10,color:"#6B7280",marginBottom:15}}),h=a=>a?new Intl.NumberFormat("fr-FR").format(a).replace(/[\u00A0\u202F\s]/g," "):"-";a.s(["default",0,({transactions:a})=>(0,d.jsx)(e.Document,{children:(0,d.jsxs)(e.Page,{size:"A4",orientation:"landscape",style:g.page,children:[(0,d.jsx)(e.Text,{style:g.title,children:"Explorateur DVF - Liste des Transactions"}),(0,d.jsxs)(e.Text,{style:g.subtitle,children:[a.length," transaction",a.length>1?"s":""," affichÃ©e",a.length>1?"s":""]}),(0,d.jsxs)(e.View,{style:g.tableContainer,children:[(0,d.jsxs)(e.View,{style:g.header,children:[(0,d.jsx)(e.Text,{style:[g.cellDate,g.headerCellLeft],children:"Date"}),(0,d.jsx)(e.Text,{style:[g.cellType,g.headerCellLeft],children:"Type"}),(0,d.jsx)(e.Text,{style:[g.cellAddress,g.headerCellLeft],children:"Adresse"}),(0,d.jsx)(e.Text,{style:[g.cellCadastre,g.headerCellLeft],children:"Cadastre"}),(0,d.jsx)(e.Text,{style:[g.cellSurfaceHab,g.headerCellRight],children:"Surf. Hab."}),(0,d.jsx)(e.Text,{style:[g.cellSurfaceTer,g.headerCellRight],children:"Surf. Ter."}),(0,d.jsx)(e.Text,{style:[g.cellPrice,g.headerCellRight],children:"Prix"}),(0,d.jsx)(e.Text,{style:[g.cellPriceM2,g.headerCellRight],children:"Prix/mÂ²"}),(0,d.jsx)(e.Text,{style:[g.cellDistance,g.headerCellRight],children:"Dist."})]}),a.map((a,b)=>{var c;return(0,d.jsxs)(e.View,{style:[g.row,b%2==1&&g.rowEven],children:[(0,d.jsx)(e.Text,{style:g.cellDate,children:a.date}),(0,d.jsx)(e.Text,{style:g.cellType,children:a.type}),(0,d.jsx)(e.Text,{style:g.cellAddress,children:a.address}),(0,d.jsx)(e.Text,{style:g.cellCadastre,children:a.cadastre}),(0,d.jsxs)(e.Text,{style:g.cellSurfaceHab,children:[h(a.surface)," mÂ²"]}),(0,d.jsx)(e.Text,{style:g.cellSurfaceTer,children:a.terrain>0?`${h(a.terrain)} m\xb2`:"-"}),(0,d.jsx)(e.Text,{style:g.cellPrice,children:(c=a.price)?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(c).replace(/[\u00A0\u202F\s]/g," "):"-"}),(0,d.jsx)(e.Text,{style:g.cellPriceM2,children:((a,b)=>{if(!b||0===b)return"-";let c=Math.round(a/b);return`${h(c)} â‚¬/m\xb2`})(a.price,a.surface)}),(0,d.jsxs)(e.Text,{style:g.cellDistance,children:[h(a.distance)," m"]})]},a.id)})]})]})})]),c()}catch(a){c(a)}},!1),30100,a=>a.a(async(b,c)=>{try{var d=a.i(87924),e=a.i(72131),f=a.i(19721),g=a.i(18402),h=a.i(74888),i=b([h]);[h]=i.then?(await i)():i;let k=(0,f.default)(async()=>{},{loadableGenerated:{modules:[99018]},ssr:!1,loading:()=>(0,d.jsx)("span",{className:"text-gray-500",children:"Chargement..."})});function j(){let{data:a}=(0,g.useSession)(),[b,c]=(0,e.useState)(""),[f,i]=(0,e.useState)([]),[j,l]=(0,e.useState)([]),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(500),[u,v]=(0,e.useState)({key:null,direction:"asc"}),[w,x]=(0,e.useState)({Maison:!0,Appartement:!0,Local:!1,Terrain:!1}),[y,z]=(0,e.useState)(!1);(0,e.useEffect)(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);let A=(0,e.useRef)(null),B=async a=>{let c="number"==typeof a?a:s;if(!b)return alert("Veuillez entrer une adresse.");p(!0),i([]);try{let a=q;if(!a){let c=await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(b)}&limit=1`),d=await c.json();if(!d.features?.length)throw Error("Adresse introuvable");let e=d.features[0].geometry.coordinates;a={lon:e[0],lat:e[1]},r(a)}console.log(`ðŸ”Ž Recherche avec Rayon: ${c}m`);let d=await fetch(`/api/search?lat=${a.lat}&lng=${a.lon}&radius=${c}`),e=await d.json();if(e.error)throw Error(e.error);let f=(e.data||e).map(b=>{var c;return{id:b.id_mutation||Math.random().toString(),date:new Date(b.date_mutation).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),dateRaw:new Date(b.date_mutation),type:(c=b.type_local)?c.includes("Maison")?"Maison":c.includes("Appartement")?"Appartement":c.split(",")[0].trim():null,address:`${b.adresse_numero||""} ${b.adresse_nom_voie||""}, ${b.nom_commune||""}`,cadastre:b.id_parcelle&&14===b.id_parcelle.length?`${b.id_parcelle.substring(8,10)} N\xb0${parseInt(b.id_parcelle.substring(10,14),10)}`:b.id_parcelle||"-",surface:b.surface_reelle_bati||0,terrain:b.surface_terrain||0,price:b.valeur_fonciere||0,distance:((a,b,c,d)=>{if(!a||!b||!c||!d)return 0;let e=a*Math.PI/180,f=c*Math.PI/180,g=(c-a)*Math.PI/180,h=(d-b)*Math.PI/180,i=Math.sin(g/2)*Math.sin(g/2)+Math.cos(e)*Math.cos(f)*Math.sin(h/2)*Math.sin(h/2),j=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371e3*j)})(a.lat,a.lon,b.latitude,b.longitude)}});l(f),n([])}catch(a){console.error(a),alert("Erreur: "+a.message)}finally{p(!1)}},C=j.filter(a=>{if(!a.type)return!1;let b=Object.keys(w).find(b=>a.type.includes(b));return!!b&&w[b]}),D=[...C].sort((a,b)=>{let c,d;if(!u.key)return 0;switch(u.key){case"date":c=a.dateRaw?.getTime()||0,d=b.dateRaw?.getTime()||0;break;case"type":c=a.type||"",d=b.type||"";break;case"address":c=a.address?.toLowerCase()||"",d=b.address?.toLowerCase()||"";break;case"surface":c=a.surface||0,d=b.surface||0;break;case"terrain":c=a.terrain||0,d=b.terrain||0;break;case"price":c=a.price||0,d=b.price||0;break;case"priceM2":c=a.surface>0?a.price/a.surface:0,d=b.surface>0?b.price/b.surface:0;break;case"distance":c=a.distance||0,d=b.distance||0;break;default:return 0}return"string"==typeof c?"asc"===u.direction?c.localeCompare(d):d.localeCompare(c):"asc"===u.direction?c-d:d-c}),E=a=>{u.key===a?v({key:a,direction:"asc"===u.direction?"desc":"asc"}):v({key:a,direction:"asc"})},F=a=>{let b=j.find(b=>b.id===a);b&&(l(b=>b.filter(b=>b.id!==a)),n(a=>[...a,b]))},G=C.reduce((a,b)=>{let c=b.type?.includes("Terrain")?b.terrain:b.surface;return a+(c>0?b.price/c:0)},0)/(C.length||1),H=C.reduce((a,b)=>a+parseInt(b.surface||0),0)/(C.length||1),I=()=>(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});return(0,d.jsx)("div",{className:"bg-gray-50 dark:bg-slate-950 min-h-screen text-gray-800 dark:text-white font-sans px-2 sm:px-4 md:px-8 py-8",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,d.jsxs)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center text-slate-800 dark:text-white tracking-tight flex-1",children:[(0,d.jsxs)("svg",{className:"w-10 h-10 text-blue-600 mr-3 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]}),"CaZa DVF ",(0,d.jsx)("span",{className:"text-blue-600 text-lg align-top",children:"PRO"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[a?.user&&(0,d.jsxs)("div",{className:"hidden sm:flex flex-col items-end mr-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:a.user.name||a.user.email}),(0,d.jsx)("span",{className:"text-xs text-gray-500 dark:text-slate-500",children:a.user.email})]}),a?.user&&(0,d.jsxs)("button",{onClick:()=>(0,g.signOut)({callbackUrl:"/login"}),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95",title:"DÃ©connexion",children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"DÃ©connexion"}),(0,d.jsx)("svg",{className:"w-5 h-5 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]}),(0,d.jsx)("button",{onClick:()=>z(!y),className:"p-2 rounded-full bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-yellow-400 transition-all hover:scale-110",title:y?"Mode clair":"Mode sombre",children:y?(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})]})]}),(0,d.jsx)("div",{className:"bg-white dark:bg-slate-900 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 mb-6 relative z-20",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 relative",children:[(0,d.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,d.jsx)("input",{type:"text",value:b,onChange:a=>{let b=a.target.value;(c(b),A.current&&clearTimeout(A.current),b.length<3)?i([]):A.current=setTimeout(async()=>{try{let a=await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(b)}&limit=5`),c=await a.json();i(c.features||[])}catch(a){console.error(a)}},300)},placeholder:"Entrez une adresse...",className:"w-full p-3 sm:p-4 border border-gray-300 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-base sm:text-lg bg-white dark:bg-slate-900 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-slate-500"}),f.length>0&&(0,d.jsx)("ul",{className:"absolute left-0 right-0 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-b-lg shadow-xl mt-1 max-h-60 overflow-y-auto z-50",children:f.map((a,b)=>(0,d.jsx)("li",{onClick:()=>{c(a.properties.label),r({lon:a.geometry.coordinates[0],lat:a.geometry.coordinates[1]}),i([])},className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-slate-800 cursor-pointer border-b border-gray-200 dark:border-slate-800 text-gray-900 dark:text-white",children:a.properties.label},b))})]}),(0,d.jsx)("button",{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 sm:px-8 py-3 sm:py-2 rounded-lg font-bold w-full md:w-auto",children:o?"...":"Voir"})]})}),j.length>0&&(0,d.jsxs)("div",{className:"animate-fade-in-down",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg shadow border-l-4 border-blue-500",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Prix Moyen / mÂ²"}),(0,d.jsxs)("p",{className:"text-2xl font-bold dark:text-white",children:[Math.round(G)," â‚¬"]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg shadow border-l-4 border-green-500",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Biens affichÃ©s"}),(0,d.jsx)("p",{className:"text-2xl font-bold dark:text-white",children:C.length})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg shadow border-l-4 border-purple-500",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Surface Moyenne"}),(0,d.jsxs)("p",{className:"text-2xl font-bold dark:text-white",children:[Math.round(H)," mÂ²"]})]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-slate-800 mb-6 flex flex-col md:flex-row gap-4 items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 items-center flex-wrap w-full md:w-auto",children:[(0,d.jsxs)("div",{className:"flex gap-3 items-center flex-wrap justify-center md:justify-start",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Filtres :"}),Object.keys(w).map(a=>(0,d.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:w[a],onChange:b=>x({...w,[a]:b.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300 dark:border-slate-700 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:a})]},a))]}),(0,d.jsxs)("div",{className:"flex gap-2 items-center flex-wrap justify-center md:justify-start",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Rayon :"}),[50,100,500,1e3].map(a=>(0,d.jsx)("button",{onClick:()=>{t(a),q&&B(a)},className:`px-3 py-2 sm:py-1 rounded text-sm font-medium transition-all ${s===a?"bg-blue-600 text-white shadow-sm":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-slate-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:a<1e3?`${a}m`:"1km"},a))]})]}),D.length>0&&(0,d.jsx)(k,{document:(0,d.jsx)(h.default,{transactions:D}),fileName:`transactions-dvf-${new Date().toISOString().split("T")[0]}.pdf`,className:"bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 shadow-sm w-full md:w-auto justify-center",children:({loading:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"ðŸ“„"}),(0,d.jsx)("span",{children:a?"GÃ©nÃ©ration...":"Export PDF"})]})})]}),(0,d.jsxs)("div",{className:"hidden md:block bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 overflow-hidden mb-6",children:[(0,d.jsx)("div",{className:"overflow-x-auto shadow-md sm:rounded-lg",children:(0,d.jsxs)("table",{className:"w-full text-left",children:[(0,d.jsx)("thead",{className:"sticky top-0 z-10 backdrop-blur-md bg-white/90 dark:bg-slate-900/90 border-b border-gray-200 dark:border-slate-800",children:(0,d.jsxs)("tr",{children:[(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("date"),children:["Date ","date"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("type"),children:["Type ","type"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("address"),children:["Adresse ","address"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Cadastre"}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("surface"),children:["Surf. Hab. ","surface"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("terrain"),children:["Surf. Ter. ","terrain"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("price"),children:["Prix ","price"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("priceM2"),children:["Prix/mÂ² ","priceM2"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsxs)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right cursor-pointer hover:bg-gray-200 dark:hover:bg-slate-800 transition-colors",onClick:()=>E("distance"),children:["Dist. ","distance"===u.key&&("asc"===u.direction?"â†‘":"â†“")]}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 text-center font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Action"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:D.map(a=>{let b,c,e;return(0,d.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 even:bg-gray-50 dark:even:bg-slate-800/50 transition-colors",children:[(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-gray-600 dark:text-slate-300",children:a.date}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold border ${a.type?.includes("Maison")?"bg-emerald-50 text-emerald-700 border-emerald-200":a.type?.includes("Appartement")?"bg-blue-50 text-blue-700 border-blue-200":a.type?.includes("Local")?"bg-purple-50 text-purple-700 border-purple-200":a.type?.includes("Terrain")?"bg-amber-50 text-amber-700 border-amber-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:a.type||"-"})}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm font-medium text-gray-900 dark:text-slate-300",children:a.address}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-gray-600 dark:text-slate-300 font-mono",children:a.cadastre}),(0,d.jsxs)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-600 dark:text-slate-300 font-mono",children:[a.surface," mÂ²"]}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-600 dark:text-slate-300 font-mono",children:a.terrain>0?`${a.terrain} m\xb2`:"-"}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right font-bold text-gray-900 dark:text-slate-300 font-mono",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(a.price)}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-blue-600 font-medium font-mono",children:(c=(b=a.type?.includes("Terrain"))?a.terrain:a.surface,e=a.price&&c>0?a.price/c:0,0===e?(0,d.jsx)("span",{className:"text-gray-400 dark:text-slate-500",children:"-"}):(0,d.jsxs)(d.Fragment,{children:[new Intl.NumberFormat("fr-FR",{maximumFractionDigits:0}).format(e)," â‚¬/mÂ²",(0,d.jsxs)("span",{className:"text-xs text-gray-400 dark:text-slate-500 block font-sans",children:["sur ",b?"terrain":"hab."]})]}))}),(0,d.jsxs)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-500 dark:text-slate-400 font-mono",children:[a.distance," m"]}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-center",children:(0,d.jsx)("button",{onClick:()=>F(a.id),className:"text-gray-400 hover:text-red-600 hover:bg-red-50 p-2 rounded transition-colors",title:"Supprimer",children:(0,d.jsx)(I,{})})})]},a.id)})})]})}),0===D.length&&(0,d.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-slate-400",children:"Aucun rÃ©sultat avec ces filtres."})]}),(0,d.jsx)("div",{className:"block md:hidden mb-6",children:0===D.length?(0,d.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-slate-400 bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-800",children:"Aucun rÃ©sultat avec ces filtres."}):(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4",children:D.map(a=>{let b,c,e=a.type?.includes("Terrain")?a.terrain:a.surface;a.price&&e>0&&a.price;let f=a.type?.includes("Maison")?"text-emerald-700":a.type?.includes("Appartement")?"text-blue-700":a.type?.includes("Local")?"text-purple-700":a.type?.includes("Terrain")?"text-amber-700":"text-gray-700";return(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-800 p-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsx)("span",{className:`font-bold text-sm ${f}`,children:a.type||"-"}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-slate-100",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(a.price)}),(b=a.type?.includes("Terrain")?a.terrain:a.surface,c=a.price&&b>0?a.price/b:0,0===c?null:(0,d.jsxs)("div",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:[new Intl.NumberFormat("fr-FR",{maximumFractionDigits:0}).format(c)," â‚¬ / mÂ²"]}))]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-start text-sm text-gray-700 dark:text-slate-300 mb-3",children:[(0,d.jsx)("div",{className:"flex-1",children:a.address}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 dark:text-slate-400 ml-2 whitespace-nowrap",children:["ðŸ“ ",a.distance," m"]})]}),(0,d.jsxs)("div",{className:"flex gap-4 text-xs text-gray-600 dark:text-slate-400 mb-3",children:[(0,d.jsxs)("span",{children:["Hab: ",a.surface," mÂ²"]}),a.terrain>0&&(0,d.jsxs)("span",{children:["Ter: ",a.terrain," mÂ²"]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,d.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-slate-400",children:a.date}),(0,d.jsx)("span",{className:"text-gray-400 dark:text-slate-500 font-mono",children:a.cadastre})]}),(0,d.jsx)("button",{onClick:()=>F(a.id),className:"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded transition-colors",title:"Supprimer",children:(0,d.jsx)(I,{})})]})]},a.id)})})}),m.length>0&&(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 overflow-hidden",children:[(0,d.jsx)("h2",{className:"p-4 bg-gray-100 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-800 font-bold text-gray-700 dark:text-slate-300 tracking-tight",children:"ðŸ—‘ï¸ Corbeille / Ã‰lÃ©ments ignorÃ©s"}),(0,d.jsx)("div",{className:"overflow-x-auto shadow-md sm:rounded-lg",children:(0,d.jsxs)("table",{className:"w-full text-left",children:[(0,d.jsx)("thead",{className:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-800",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Date"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Type"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Adresse"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Cadastre"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right",children:"Surf. Hab."}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right",children:"Surf. Ter."}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right",children:"Prix"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right",children:"Prix/mÂ²"}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 font-bold text-gray-500 dark:text-slate-400 text-xs uppercase text-right",children:"Dist."}),(0,d.jsx)("th",{className:"px-3 md:px-4 py-3 md:py-4 text-center font-bold text-gray-500 dark:text-slate-400 text-xs uppercase",children:"Action"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:m.map(a=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 opacity-75 transition-colors",children:[(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-gray-600 dark:text-slate-300",children:a.date}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold border ${a.type?.includes("Maison")?"bg-emerald-50 text-emerald-700 border-emerald-200":a.type?.includes("Appartement")?"bg-blue-50 text-blue-700 border-blue-200":a.type?.includes("Local")?"bg-purple-50 text-purple-700 border-purple-200":a.type?.includes("Terrain")?"bg-amber-50 text-amber-700 border-amber-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:a.type||"-"})}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm font-medium text-gray-900 dark:text-slate-300",children:a.address}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-gray-600 dark:text-slate-300 font-mono",children:a.cadastre}),(0,d.jsxs)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-600 dark:text-slate-300 font-mono",children:[a.surface," mÂ²"]}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-600 dark:text-slate-300 font-mono",children:a.terrain>0?`${a.terrain} m\xb2`:"-"}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right font-bold text-gray-900 dark:text-slate-300 font-mono",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(a.price)}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-blue-600 font-medium font-mono",children:a.surface>0?`${Math.round(a.price/a.surface).toLocaleString("fr-FR")} â‚¬/m\xb2`:"-"}),(0,d.jsxs)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-sm text-right text-gray-500 dark:text-slate-400 font-mono",children:[a.distance," m"]}),(0,d.jsx)("td",{className:"px-3 md:px-4 py-3 md:py-4 text-center",children:(0,d.jsx)("button",{onClick:()=>{var b;let c;return b=a.id,void((c=m.find(a=>a.id===b))&&(n(a=>a.filter(a=>a.id!==b)),l(a=>[...a,c])))},className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-medium transition-colors",children:"Restaurer"})})]},a.id))})]})})]})]})]})})}a.s(["default",()=>j]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__18180512._.js.map